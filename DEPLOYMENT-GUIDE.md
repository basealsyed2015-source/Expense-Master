# Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù†Ø´Ø± - GitHub Ùˆ Cloudflare Pages

Ù‡Ø°Ø§ Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ø´Ø§Ù…Ù„ Ù„ØªØ­Ø¯ÙŠØ« ÙˆÙ†Ø´Ø± ØªØ·Ø¨ÙŠÙ‚ **Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØªÙ…ÙˆÙŠÙ„** Ø¹Ù„Ù‰ GitHub Ùˆ Cloudflare Pages.

---

## ğŸ“‹ **Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©**

### âœ… **1. Ø­Ø³Ø§Ø¨ GitHub**
- Ø§Ù„Ù…Ø³ØªÙˆØ¯Ø¹: https://github.com/basealsyed2015-source/Expense-Master
- Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ: `main`
- Ø§Ù„ÙØ±Ø¹ Ø§Ù„ØªØ·ÙˆÙŠØ±ÙŠ: `genspark_ai_developer`

### âœ… **2. Ø­Ø³Ø§Ø¨ Cloudflare**
- ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¹Ù„Ù‰ Cloudflare
- Ù…ÙØªØ§Ø­ API Ø¨Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©

---

## ğŸ”§ **Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£ÙˆÙ„ÙŠ**

### **Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø¥Ø¹Ø¯Ø§Ø¯ Ù…ÙØªØ§Ø­ Cloudflare API**

#### 1. ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Cloudflare
```
https://dash.cloudflare.com/
```

#### 2. Ø¥Ù†Ø´Ø§Ø¡ API Token Ø¬Ø¯ÙŠØ¯
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: **My Profile** â†’ **API Tokens**
2. Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ **Create Token**
3. Ø§Ø³ØªØ®Ø¯Ù… Ù‚Ø§Ù„Ø¨ **Edit Cloudflare Workers** Ø£Ùˆ Ø£Ù†Ø´Ø¦ Custom Token

#### 3. Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©
```
Account:
  - Account Settings: Read
  - Cloudflare Pages: Edit

Zone:
  - Workers Routes: Edit (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
```

#### 4. Ø­ÙØ¸ Ø§Ù„Ù…ÙØªØ§Ø­
- Ø§Ù†Ø³Ø® Ø§Ù„Ù…ÙØªØ§Ø­ (Ø³ÙŠØ¸Ù‡Ø± Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø·!)
- Ø§Ø­ÙØ¸Ù‡ ÙÙŠ Ù…ÙƒØ§Ù† Ø¢Ù…Ù†

#### 5. Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…ÙØªØ§Ø­ ÙÙŠ GenSpark
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ ØªØ¨ÙˆÙŠØ¨ **Deploy** ÙÙŠ Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ
2. Ø§Ø¨Ø­Ø« Ø¹Ù† **Cloudflare API Key**
3. Ø§Ù„ØµÙ‚ Ø§Ù„Ù…ÙØªØ§Ø­ ÙˆØ§Ø­ÙØ¸Ù‡

---

## ğŸš€ **Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ GitHub**

### **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 1: Ù…Ù† Ø§Ù„Ø³Ø·Ø± (Terminal)**

#### 1. Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø§Ù„Ø©
```bash
cd /home/user/webapp
git status
```

#### 2. Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª
```bash
git add .
```

#### 3. Ø¥Ù†Ø´Ø§Ø¡ Commit
```bash
git commit -m "ÙˆØµÙ Ø§Ù„ØªØ­Ø¯ÙŠØ«"
```

#### 4. Ø¯ÙØ¹ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª
```bash
# Ø¥Ù„Ù‰ Ø§Ù„ÙØ±Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ
git push origin main

# Ø£Ùˆ Ø¥Ù„Ù‰ ÙØ±Ø¹ Ø¢Ø®Ø±
git push origin genspark_ai_developer
```

### **Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 2: Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¯Ù„ÙŠÙ„ Ø§Ù„Ù…Ø±Ø¬Ø¹ÙŠ**

```bash
# Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙˆØ§Ù…Ø± ÙÙŠ Ø®Ø·ÙˆØ© ÙˆØ§Ø­Ø¯Ø©
cd /home/user/webapp && \
git add . && \
git commit -m "ØªØ­Ø¯ÙŠØ«: ÙˆØµÙ Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª" && \
git push origin main
```

---

## â˜ï¸ **Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Cloudflare Pages**

### **Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† wrangler.jsonc**

ØªØ£ÙƒØ¯ Ù…Ù† Ø£Ù† Ù…Ù„Ù `wrangler.jsonc` ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰:
```jsonc
{
  "$schema": "node_modules/wrangler/config-schema.json",
  "name": "tamweel-calc",
  "compatibility_date": "2024-01-01",
  "pages_build_output_dir": "./dist",
  "compatibility_flags": ["nodejs_compat"]
}
```

### **Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø¨Ù†Ø§Ø¡ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹**

```bash
cd /home/user/webapp
npm run build
```

**Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©:**
```
âœ“ 56 modules transformed.
dist/_worker.js  1,476.82 kB
âœ“ built in 1.56s
```

### **Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹ Cloudflare Pages (Ø£ÙˆÙ„ Ù…Ø±Ø© ÙÙ‚Ø·)**

```bash
npx wrangler pages project create tamweel-calc \
  --production-branch main \
  --compatibility-date 2024-01-01
```

### **Ø§Ù„Ø®Ø·ÙˆØ© 4: Ù†Ø´Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹**

```bash
npx wrangler pages deploy dist --project-name tamweel-calc
```

**Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰ URLs:**
```
âœ¨ Deployment complete! Take a peek over at https://random-id.tamweel-calc.pages.dev
ğŸŒ View your site at:
  - https://tamweel-calc.pages.dev (Production)
  - https://main.tamweel-calc.pages.dev (main branch)
```

---

## ğŸ”„ **Ø§Ù„ØªØ­Ø¯ÙŠØ«Ø§Øª Ø§Ù„Ù„Ø§Ø­Ù‚Ø©**

### **Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 1: ØªØ­Ø¯ÙŠØ« Ø¨Ø³ÙŠØ· (ÙƒÙˆØ¯ ÙÙ‚Ø·)**

```bash
cd /home/user/webapp

# 1. ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙƒÙˆØ¯
# ... Ù‚Ù… Ø¨ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª ...

# 2. Git
git add .
git commit -m "ØªØ­Ø¯ÙŠØ«: [ÙˆØµÙ]"
git push origin main

# 3. Ø¨Ù†Ø§Ø¡ ÙˆÙ†Ø´Ø±
npm run build
npx wrangler pages deploy dist --project-name tamweel-calc
```

### **Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 2: ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª**

```bash
cd /home/user/webapp

# 1. Ø¥Ù†Ø´Ø§Ø¡ migration Ø¬Ø¯ÙŠØ¯
# Ù…Ø«Ø§Ù„: migrations/0018_add_new_table.sql

# 2. ØªØ·Ø¨ÙŠÙ‚ Migration Ù…Ø­Ù„ÙŠØ§Ù‹ (Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±)
npx wrangler d1 migrations apply tamweel-production --local

# 3. ØªØ·Ø¨ÙŠÙ‚ Migration Ø¹Ù„Ù‰ Production
npx wrangler d1 migrations apply tamweel-production

# 4. Git + Ø¨Ù†Ø§Ø¡ + Ù†Ø´Ø±
git add .
git commit -m "ØªØ­Ø¯ÙŠØ« Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª: [ÙˆØµÙ]"
git push origin main
npm run build
npx wrangler pages deploy dist --project-name tamweel-calc
```

### **Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ 3: ØªØ­Ø¯ÙŠØ« Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¨ÙŠØ¦Ø© (Secrets)**

```bash
# Ø¥Ø¶Ø§ÙØ©/ØªØ­Ø¯ÙŠØ« secret
npx wrangler pages secret put API_KEY --project-name tamweel-calc

# Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© secrets
npx wrangler pages secret list --project-name tamweel-calc

# Ø­Ø°Ù secret
npx wrangler pages secret delete API_KEY --project-name tamweel-calc
```

---

## ğŸ“¦ **Ø³ÙƒØ±ÙŠØ¨ØªØ§Øª Ù…ÙÙŠØ¯Ø© ÙÙŠ package.json**

```json
{
  "scripts": {
    "dev": "wrangler pages dev dist --ip 0.0.0.0 --port 3000",
    "build": "vite build",
    "deploy": "npm run build && npx wrangler pages deploy dist --project-name tamweel-calc",
    "deploy:prod": "npm run build && npx wrangler pages deploy dist --project-name tamweel-calc --branch main",
    "git:push": "git add . && git commit -m 'ØªØ­Ø¯ÙŠØ«' && git push origin main",
    "update:full": "npm run git:push && npm run deploy",
    "db:migrate:prod": "npx wrangler d1 migrations apply tamweel-production",
    "db:migrate:local": "npx wrangler d1 migrations apply tamweel-production --local"
  }
}
```

**Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:**
```bash
# ØªØ­Ø¯ÙŠØ« ÙƒØ§Ù…Ù„ (Git + Ø¨Ù†Ø§Ø¡ + Ù†Ø´Ø±)
npm run update:full

# Ù†Ø´Ø± ÙÙ‚Ø·
npm run deploy

# ØªØ·Ø¨ÙŠÙ‚ migrations Ø¹Ù„Ù‰ production
npm run db:migrate:prod
```

---

## ğŸ” **Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù†Ø´Ø±**

### **1. ÙØ­Øµ Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø´Ø±ÙˆØ¹**
```bash
npx wrangler pages project list
```

### **2. Ø¹Ø±Ø¶ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù†Ø´Ø±**
```bash
npx wrangler pages deployment list --project-name tamweel-calc
```

### **3. Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù…ÙˆÙ‚Ø¹**
```bash
curl https://tamweel-calc.pages.dev
curl https://tamweel-calc.pages.dev/api/user-info
```

---

## ğŸ› **Ø­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„ Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©**

### **Ù…Ø´ÙƒÙ„Ø© 1: Authentication failed**
```
Ø®Ø·Ø£: Invalid API key - authentication failed
```

**Ø§Ù„Ø­Ù„:**
1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰ ØªØ¨ÙˆÙŠØ¨ **Deploy**
2. Ø§Ø­Ø°Ù Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ù‚Ø¯ÙŠÙ…
3. Ø£Ù†Ø´Ø¦ API Token Ø¬Ø¯ÙŠØ¯
4. Ø£Ø¶Ù Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø¬Ø¯ÙŠØ¯

### **Ù…Ø´ÙƒÙ„Ø© 2: Project already exists**
```
Ø®Ø·Ø£: Project 'tamweel-calc' already exists
```

**Ø§Ù„Ø­Ù„:**
```bash
# Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ù†Ø´Ø± Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ø¯ÙˆÙ† Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø´Ø±ÙˆØ¹
npx wrangler pages deploy dist --project-name tamweel-calc
```

### **Ù…Ø´ÙƒÙ„Ø© 3: Build failed**
```
Ø®Ø·Ø£: vite build failed
```

**Ø§Ù„Ø­Ù„:**
```bash
# Ù†Ø¸Ù ÙˆØ£Ø¹Ø¯ Ø§Ù„Ø¨Ù†Ø§Ø¡
rm -rf dist node_modules/.vite
npm run build
```

### **Ù…Ø´ÙƒÙ„Ø© 4: D1 Database errors**
```
Ø®Ø·Ø£: D1_ERROR: no such table
```

**Ø§Ù„Ø­Ù„:**
```bash
# ØªØ·Ø¨ÙŠÙ‚ migrations
npx wrangler d1 migrations apply tamweel-production
```

---

## ğŸ“Š **Ø³ÙŠØ± Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡**

### **Ø§Ù„ØªØ·ÙˆÙŠØ± Ø§Ù„ÙŠÙˆÙ…ÙŠ:**
```bash
# 1. ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ÙƒÙˆØ¯ Ù…Ø­Ù„ÙŠØ§Ù‹
# 2. Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø­Ù„ÙŠ
npm run dev

# 3. Commit + Push
git add .
git commit -m "ØªØ­Ø¯ÙŠØ«: [ÙˆØµÙ]"
git push origin genspark_ai_developer
```

### **Ø§Ù„Ù†Ø´Ø± Ø¹Ù„Ù‰ Production:**
```bash
# 1. Ø¯Ù…Ø¬ Ø§Ù„ØªØ·ÙˆÙŠØ± Ù…Ø¹ main
git checkout main
git merge genspark_ai_developer

# 2. Ø¨Ù†Ø§Ø¡ ÙˆÙ†Ø´Ø±
npm run build
npx wrangler pages deploy dist --project-name tamweel-calc --branch main

# 3. Push to GitHub
git push origin main
```

---

## ğŸ” **Ø§Ù„Ø£Ù…Ø§Ù†**

### **1. Ù„Ø§ ØªØ¶Ù Ø£Ø¨Ø¯Ø§Ù‹ ÙÙŠ Git:**
```gitignore
.env
.dev.vars
node_modules/
.wrangler/
wrangler.toml  # Ø¥Ø°Ø§ ÙƒØ§Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ secrets
```

### **2. Ø§Ø³ØªØ®Ø¯Ù… Cloudflare Secrets:**
```bash
# Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† .env
npx wrangler pages secret put DATABASE_URL --project-name tamweel-calc
npx wrangler pages secret put API_KEY --project-name tamweel-calc
```

### **3. Ø§Ø³ØªØ®Ø¯Ù… Environment Variables:**
```typescript
// ÙÙŠ Ø§Ù„ÙƒÙˆØ¯
const apiKey = c.env.API_KEY  // Ù…Ù† Cloudflare Secrets
```

---

## ğŸ“ˆ **Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©**

### **1. Cloudflare Dashboard**
```
https://dash.cloudflare.com/
â†’ Workers & Pages
â†’ tamweel-calc
```

**ÙŠÙ…ÙƒÙ†Ùƒ Ù…Ø´Ø§Ù‡Ø¯Ø©:**
- Ø¹Ø¯Ø¯ Ø§Ù„Ø·Ù„Ø¨Ø§Øª (Requests)
- Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ (Errors)
- Ø²Ù…Ù† Ø§Ù„Ø§Ø³ØªØ¬Ø§Ø¨Ø© (Response Time)
- Ø§Ø³ØªØ®Ø¯Ø§Ù… CPU

### **2. Logs ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ**
```bash
npx wrangler pages deployment tail --project-name tamweel-calc
```

---

## ğŸ¯ **Checklist Ù‚Ø¨Ù„ Ø§Ù„Ù†Ø´Ø±**

- [ ] ØªÙ… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„ÙƒÙˆØ¯ Ù…Ø­Ù„ÙŠØ§Ù‹
- [ ] ØªÙ… ØªØ·Ø¨ÙŠÙ‚ migrations Ø¹Ù„Ù‰ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
- [ ] ØªÙ… ØªØ­Ø¯ÙŠØ« package.json (Ø¥Ø°Ø§ Ù„Ø²Ù…)
- [ ] ØªÙ… Git commit + push
- [ ] ØªÙ… ØªØ´ØºÙŠÙ„ `npm run build` Ø¨Ù†Ø¬Ø§Ø­
- [ ] ØªÙ… ÙØ­Øµ Ø­Ø¬Ù… dist/_worker.js (< 10MB)
- [ ] ØªÙ… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¨Ù†Ø§Ø¡ Ù…Ø­Ù„ÙŠØ§Ù‹
- [ ] Ø¬Ø§Ù‡Ø² Ù„Ù„Ù†Ø´Ø±! ğŸš€

---

## ğŸ“ **Ø§Ù„Ø¯Ø¹Ù… ÙˆØ§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©**

### **ÙˆØ«Ø§Ø¦Ù‚ Cloudflare:**
- https://developers.cloudflare.com/pages/
- https://developers.cloudflare.com/workers/

### **ÙˆØ«Ø§Ø¦Ù‚ Wrangler:**
- https://developers.cloudflare.com/workers/wrangler/

### **Ø§Ù„Ù…Ø¬ØªÙ…Ø¹:**
- Cloudflare Discord: https://discord.cloudflare.com/
- GitHub Issues: https://github.com/cloudflare/workers-sdk/issues

---

## âœ… **Ø§Ù„Ø®Ù„Ø§ØµØ©**

### **ØªØ­Ø¯ÙŠØ« Ø³Ø±ÙŠØ¹:**
```bash
cd /home/user/webapp
git add . && git commit -m "ØªØ­Ø¯ÙŠØ«" && git push origin main
npm run build && npx wrangler pages deploy dist --project-name tamweel-calc
```

### **ØªØ­Ø¯ÙŠØ« Ù…Ø¹ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:**
```bash
cd /home/user/webapp
npx wrangler d1 migrations apply tamweel-production
git add . && git commit -m "ØªØ­Ø¯ÙŠØ« + DB" && git push origin main
npm run build && npx wrangler pages deploy dist --project-name tamweel-calc
```

**Ø¬Ø§Ù‡Ø² Ù„Ù„Ù†Ø´Ø±! ğŸ‰**
